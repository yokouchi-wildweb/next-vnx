# VNX Project Vision

## 概要

Next.jsの可能性を最大限に活かした、前衛的なビジュアルノベルエンジンとエコシステムの構築プロジェクト。

---

## 野心とビジョン

### なぜこのプロジェクトなのか

Web技術とNext.jsは、ゲーム開発において過小評価されている。Unityが支配するゲーム業界において、**Webならではの強み**を最大限に活かした新しいプレイ体験を創出する。

### ミッション

> **「今の時代だからこそできること」を、誰よりも先に形にする**

- 他がやっていない領域に踏み込む
- AIとWebの融合による前衛的な体験設計
- 汎用VNエンジンを開発し、エコシステムとして普及させる

### Webだからこそできる強み

| 強み | 説明 |
|------|------|
| **URL一つで即プレイ** | インストール不要、シェアで即体験 |
| **ブラウザAPIの活用** | 通知、カメラ、マイク、位置情報との連携 |
| **Reactエコシステム** | 世界最大のフロントエンド資産を活用 |
| **Vercelで無料配布** | サーバー費用ゼロでグローバル配信 |
| **リアルタイム更新** | アップデートがシームレス |

### 長期ビジョン

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   next-vnx を「VN界のNext.js」にする                        │
│                                                             │
│   - Ren'Py、ティラノに並ぶ第三の選択肢                      │
│   - AI時代のVNエンジンとして唯一無二のポジション            │
│   - 日本発、世界標準のOSSエンジン                           │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 開発体制

- **個人開発 + AI協働**により、大規模開発チームと同等のパフォーマンスを実現
- **複数の作家との連携**により、シナリオは無限に調達可能
- 汎用ゲームシステムを構築し、コンテンツ量産体制を確立

### next-starterとの関係

このリポジトリ（next-starter）自体が、様々なWebサービス開発を通じて進化してきた高レベルな基盤である。

- DDD思想によるドメイン拡張の仕組み
- 高機能な管理画面
- 認証・権限管理

VNエンジンプロジェクトは、この**進化の延長線上**にある。next-starterの設計思想と資産を継承しながら、VN特化のエコシステムを構築する。

---

## プロジェクト構成

```
next-starter（最上位・基盤）
    │
    ├── 従来通りWebサービス開発に使用
    │
    └── vnx-studio（VN特化フォーク）
            ├── next-vnxエンジンを使用
            ├── 作家向けエディタ
            ├── シナリオ管理（ドメイン）
            └── next-starterの更新を取り込み可能
```

### リポジトリ

| リポジトリ | 役割 | 配布形態 |
|------------|------|----------|
| **next-vnx** | VNエンジン本体 | npmパッケージ |
| **vnx-studio** | 作家向けエディタ・管理画面 | next-starter派生 |

### 命名規則

- エンジン: `next-vnx` (Next Visual Novel eXperience)
- 関連ツール: `vnx-*` で統一

---

## 技術的差別化

### コアコンセプト

**A. 生成AI統合** × **C. メタ演出（第四の壁破壊）**

「AIキャラクターが第四の壁を超えてくる」体験の創出

### 具体的な機能

| 機能 | 技術 | 体験 |
|------|------|------|
| 自由会話 | LLM (Claude/GPT) | 台本にない対話が可能 |
| 動的音声 | TTS (ElevenLabs等) | リアルタイム音声生成 |
| プレイヤー認識 | localStorage + LLM | 過去の選択を覚えている |
| 現実侵食 | Notification API | ゲーム外から話しかける |
| タブ監視 | Page Visibility API | 「別タブ見てたでしょ」 |
| URL体験 | URLパラメータ | シェアで体験が変わる |

### 既存エンジンとの差別化

| 観点 | Ren'Py | ティラノ | next-vnx |
|------|--------|----------|----------|
| 言語 | Python | 独自記法 | React/TypeScript |
| Web配布 | 弱い | 可能 | ネイティブ |
| AI統合 | 困難 | 困難 | 標準サポート |
| メタ演出 | 限定的 | 限定的 | API標準搭載 |
| エコシステム | 独自 | 独自 | React/Next.js |

---

## 開発アプローチ

### ゲームファースト + 設計意識

```
Phase 1: 自分のゲームを作りながらエンジン抽出
         ↓
Phase 2: OSSとして公開（GitHub）
         ↓
Phase 3: サンプルゲーム・テンプレート提供
         ↓
Phase 4: 作家・開発者コミュニティ形成
         ↓
Phase 5: 自分のゲームがショーケースになる
```

### 設計原則

1. **エンジン層とゲーム層の分離**を最初から意識
2. 動くものを早く見せてフィードバックを得る
3. シナリオデータ形式は作家が書きやすく、AIが拡張できる設計

---

## 技術スタック（想定）

### next-vnx（エンジン）

```
React（UIレス、ヘッドレス設計も可能）
├── PixiJS / pixi-live2d-display（2Dレンダリング）
├── Zustand（状態管理）
├── Howler.js（音声管理）
├── LLM SDK (Claude/OpenAI)
├── TTS SDK (ElevenLabs/Web Speech API)
└── Browser APIs（Notification, Visibility, localStorage）
```

### vnx-studio（エディタ）

```
next-starter派生
├── 管理画面（シナリオ/キャラ/演出管理）
├── ドメイン拡張の仕組みを活用
├── 認証・権限管理
├── プレビュー機能（next-vnx使用）
└── エクスポート機能
```

---

## ビジネスモデル（将来）

### シナリオ調達

- 複数の作家と連携
- 汎用的なゲームシステムにより、シナリオは無限に調達可能

### 配布戦略

```
Phase 1: ブラウザ完結（URL共有の強み最大化）
         ↓
Phase 2: PWA化（オフライン対応）
         ↓
Phase 3: Electron/Tauri でデスクトップ化
         ↓
Phase 4: Steam配布
```

---

## Web技術の限界ライン

| 機能 | 可能性 | 補足 |
|------|--------|------|
| 立ち絵 + 背景 + テキスト | ◎ | |
| Live2Dアニメーション | ◎ | pixi-live2d-display |
| パーティクル/シェーダー | ○ | PixiJS Filter |
| ボイス + リップシンク | ○ | Web Audio API |
| 選択肢分岐 + フラグ管理 | ◎ | |
| セーブ/ロード | ◎ | localStorage/IndexedDB |
| LLM自由会話 | ◎ | API呼び出し |
| メタ演出 | ◎ | Browser APIs |
| 3Dキャラクター | △ | Three.js必要 |
| Steam/Switch配布 | △ | Electron/Tauri必要 |

---

## 参考事例

### Doki Doki Literature Club
- Ren'Py製だが、メタ演出の成功例
- [ファンによるバニラJS完全再現](https://github.com/elRomanoff/doki-doki)がWeb技術の可能性を証明

### Pixi'VN
- React + PixiJSのVNエンジン
- [公式サイト](https://pixi-vn.web.app/)
- Ren'Pyライクな機能をReactで実現

### Live2D Web
- [pixi-live2d-display](https://github.com/guansss/pixi-live2d-display)
- ブラウザでLive2D完全動作

---

## 次のアクション

1. [ ] next-vnxリポジトリの作成
2. [ ] 最小プロトタイプの設計（1キャラ × 1シーン × 自由会話 × メタ演出1種）
3. [ ] シナリオデータ形式の設計
4. [ ] vnx-studioのドメイン設計（シナリオ、キャラクター、演出）

---

## 更新履歴

- 2024-12-25: 初版作成（プロジェクトビジョン策定）
